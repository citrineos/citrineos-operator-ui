# Operator UI app (Dockerfile mode in Dokploy)
# Dockerfile path: citrineos-operator-ui/Dockerfile
# IMPORTANT: NEXT_PUBLIC_* values are build-time for Next.js.
# After changing NEXT_PUBLIC_* in Dokploy, do a full rebuild/redeploy (not just restart).

# Required for UI and API connectivity
NEXT_PUBLIC_API_URL=https://operator-api.rangoru.com/v1/graphql
NEXT_PUBLIC_WS_URL=wss://operator-api.rangoru.com/v1/graphql
NEXT_PUBLIC_CITRINE_CORE_URL=https://core.rangoru.com
NEXT_PUBLIC_FILE_SERVER_URL=https://file.rangoru.com

# Optional but recommended
NEXT_PUBLIC_APP_NAME=CitrineOS
HASURA_ADMIN_SECRET=${{environment.HASURA_ADMIN_SECRET}}
NEXTAUTH_URL=https://ui.rangoru.com
NEXTAUTH_SECRET=${{environment.NEXTAUTH_SECRET}}
NEXT_PUBLIC_TENANT_ID=1
NEXT_PUBLIC_AUTH_PROVIDER=generic
# Required when NEXT_PUBLIC_AUTH_PROVIDER=generic
NEXT_PUBLIC_ADMIN_EMAIL=${{environment.OPERATOR_ADMIN_EMAIL}}
NEXT_PUBLIC_ADMIN_PASSWORD=${{environment.OPERATOR_ADMIN_PASSWORD}}

# Optional UI customizations
NEXT_PUBLIC_LOGO_URL=https://d1h8867rcwtfcw.cloudfront.net/logo-collapsed.svg
NEXT_PUBLIC_METRICS_URL=

# Optional map behavior
NEXT_PUBLIC_DEFAULT_MAP_CENTER_LATITUDE=39.833333
NEXT_PUBLIC_DEFAULT_MAP_CENTER_LONGITUDE=-98.583333
GOOGLE_MAPS_API_KEY=YOUR_GOOGLE_MAPS_API_KEY
GOOGLE_MAPS_ADDRESS_API_KEY=YOUR_GOOGLE_MAPS_ADDRESS_API_KEY
NEXT_PUBLIC_GOOGLE_MAPS_LOCATION_PICKER_MAP_ID=location-picker-map-id
NEXT_PUBLIC_GOOGLE_MAPS_OVERVIEW_MAP_ID=overview-map-id

# MinIO / S3 values used by UI file actions
FILE_STORAGE_TYPE=s3
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=${{environment.MINIO_USER}}
AWS_SECRET_ACCESS_KEY=${{environment.MINIO_PASS}}
AWS_S3_ENDPOINT=http://${{environment.CORE_MINIO_HOST}}:9000
AWS_S3_FORCE_PATH_STYLE=true
AWS_S3_BUCKET_NAME=${{environment.MINIO_BUCKET}}
AWS_S3_CORE_BUCKET_NAME=${{environment.MINIO_BUCKET}}

# Optional Keycloak auth (only when NEXT_PUBLIC_AUTH_PROVIDER=keycloak)
# NEXT_PUBLIC_KEYCLOAK_URL=https://keycloak.rangoru.com
# KEYCLOAK_SERVER_URL=http://keycloak:8080
# KEYCLOAK_REALM=master
# KEYCLOAK_CLIENT_ID=citrineos-ui
# KEYCLOAK_CLIENT_SECRET=CHANGE_ME

